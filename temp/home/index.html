{% extends "base.html" %}
{% load static %}
{% block main %}
<style>
   .carousel {
    position: relative;
    width: 100%;
    overflow: hidden;
}

.slides {
    display: flex;
}

.slide {
    flex: 0 0 auto;
    display: none;
}

.slide img {
    width: 100%;
}

.active {
    display: block;
}

.indicators {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
}

.indicator {
    width: 10px;
    height: 10px;
    background-color: #ccc;
    border-radius: 50%;
    margin: 0 5px;
    cursor: pointer;
}

.active-indicator {
    background-color: #555;
}

</style>

<div class="carousel">
    <div class="slides">
        <div class="slide">
            <img src="{% static 'home/img/Ad banner 1 .png' %}" alt="Banner 1">
        </div>
        <div class="slide">
            <img src="{% static 'home/img/Ad banner 2 .png' %}" alt="Banner 2">
        </div>
    </div>
    <div class="indicators"></div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
    var slides = document.querySelectorAll(".slide");
    var indicatorsContainer = document.querySelector(".indicators");
    var currentSlide = 0;

    // Show the first slide initially
    slides[currentSlide].classList.add("active");

    // Function to move to the next slide
    function nextSlide() {
        slides[currentSlide].classList.remove("active");
        indicators[currentSlide].classList.remove("active-indicator");
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add("active");
        indicators[currentSlide].classList.add("active-indicator");
    }

    // Automatically move to the next slide every 5 seconds
    setInterval(nextSlide, 5000);

    // Create indicators
    var indicators = [];
    for (var i = 0; i < slides.length; i++) {
        var indicator = document.createElement("div");
        indicator.classList.add("indicator");
        if (i === currentSlide) {
            indicator.classList.add("active-indicator");
        }
        indicators.push(indicator);
        indicatorsContainer.appendChild(indicator);
    }

    // Add click event listeners to indicators
    indicators.forEach(function(indicator, index) {
        indicator.addEventListener("click", function() {
            slides[currentSlide].classList.remove("active");
            indicators[currentSlide].classList.remove("active-indicator");
            currentSlide = index;
            slides[currentSlide].classList.add("active");
            indicators[currentSlide].classList.add("active-indicator");
        });
    });
});
</script>
{% if info %}
    <div style="padding-top:1rem">
        <h5>{{info}}</h5>
    </div>
{% endif %}
<section class="items">
    {% for product in products %}
    <div class="item">
        <div class="rect">
            <a href="{% url 'details' product.uid %}">
                <div style="min-height: 200px;width: 100%;height: 100%;background: url({{product.image.url}});background-position: center;background-repeat: no-repeat;background-size: cover;"></div>
            </a>
        </div>
        <div class="info">
            <p>
                <span class="title"> {{product.name | title}}</span>
                <span class="price">{{product.size}} - &#8358; {{product.price}}</span>
            </p>
            <p>
                <a href="{% url 'details' product.uid %}"><span><i class="fa fa-cart-plus"></i></span></a>
            </p>
        </div>
    </div>
    {% endfor %}  
</section>
{% endblock main %}